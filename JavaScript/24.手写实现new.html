<!DOCTYPE html>
<html lang="en">

<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
</body>

</html>
<script>
  function create(a) {
    let obj = {}
    //取得构造函数 shift返回的结果是数组的第一项,并且改变原数组
    let Con = [].shift.call(arguments);
    // Object.setPrototypeOf(subType, superType) 
    //   subType.__proto__ = superType;
    Object.setPrototypeOf(obj, Con.prototype)
    // obj.__proto__ = Con.prototype;
    // 并且改变原数组arguments现在以及去掉第一个参数了
    var result = Con.apply(obj, arguments);
    //判断构造函数是否返回了对象,如果返回了对象就是返回的对象,如果没有返回就是新创建的对象
    return typeof(res) == "object" ? result : obj;
  }

  function Person(name, age) {
    this.name = name;
    this.age = age;
  }
  Person.prototype.say = function() {
    console.log('说话');
  }
  var newObj = create(Person, "heyushuo", 12);
  console.log(newObj);
</script>