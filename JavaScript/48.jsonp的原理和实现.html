<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>

</html>
<script>
  function jsonP({ url, params, cb }) {
    return new Promise((resolve, reject) => {
      let script = document.createElement('script');
      window[cb] = function(data) {
        resolve(data)
      }
      params = { ...params, cb };
      let arr = []
      for (const key in params) {
        if (object.hasOwnProperty(key)) {
          arr.push(`${key}=${params[key]}`)
        }
      }
      url = `${url}?${arr.join('&')}`;
      script.src = url;
      document.body.appendChild(script);
    })
  }
</script>